"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3997],{3014:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"System Design & Architecture/Backend/Module Breakdown","title":"Module Breakdown","description":"Each module lives under src/modules/, with its own Controllers, Services, and Repositories.","source":"@site/docs/System Design & Architecture/Backend/4. Module Breakdown.md","sourceDirName":"System Design & Architecture/Backend","slug":"/System Design & Architecture/Backend/Module Breakdown","permalink":"/vibe/docs/System Design & Architecture/Backend/Module Breakdown","draft":false,"unlisted":false,"editUrl":"https://github.com/continuousactivelearning/vibe/edit/main/docs/docs/System Design & Architecture/Backend/4. Module Breakdown.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Quizzes","permalink":"/vibe/docs/System Design & Architecture/Backend/Module Breakdown/Quizzes"},"next":{"title":"ViBe Backend","permalink":"/vibe/docs/System Design & Architecture/Backend"}}');var r=n(7968),o=n(4318);const t={},c=void 0,l={},d=[{value:"4.1 Authentication",id:"41-authentication",level:3},{value:"4.2 Courses",id:"42-courses",level:3},{value:"4.3 Quizzes",id:"43-quizzes",level:3},{value:"4.4 Users",id:"44-users",level:3},{value:"4.5 Notifications",id:"45-notifications",level:3},{value:"4.6 Settings",id:"46-settings",level:3},{value:"4.7 Anomalies",id:"47-anomalies",level:3},{value:"4.8 GenAI",id:"48-genai",level:3}];function a(e){const s={blockquote:"blockquote",code:"code",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["Each module lives under ",(0,r.jsx)(s.code,{children:"src/modules/<module>"}),", with its own Controllers, Services, and Repositories."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"41-authentication",children:"4.1 Authentication"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Controllers"}),": ",(0,r.jsx)(s.code,{children:"AuthController"})," (",(0,r.jsx)(s.code,{children:"/auth/signup"}),", ",(0,r.jsx)(s.code,{children:"/auth/login"}),", ",(0,r.jsx)(s.code,{children:"/auth/token"}),") exposes sign-up, login, and token endpoints."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Service"}),": ",(0,r.jsx)(s.code,{children:"FirebaseAuthService"})," wraps Firebase Admin SDK for user creation, JWT issuance, and token verification."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Repository"}),": Minimal, since Firebase is the source of truth; local DB used for profile data only."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Why?"})," Offloads heavy lifting to Firebase\u2014leveraging its scalability, secure token management, and built-in user lifecycle."]}),"\n",(0,r.jsx)(s.h3,{id:"42-courses",children:"4.2 Courses"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Controllers"}),": ",(0,r.jsx)(s.code,{children:"CourseController"})," endpoints (",(0,r.jsx)(s.code,{children:"/courses"}),", ",(0,r.jsx)(s.code,{children:"/courses/:id/versions"}),", etc.)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Service"}),": ",(0,r.jsx)(s.code,{children:"CourseService"})," implements versioning logic, content locking, and draft/publish workflows."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Repository"}),": ",(0,r.jsx)(s.code,{children:"CourseRepository"})," defines schemas for ",(0,r.jsx)(s.code,{children:"Course"}),", ",(0,r.jsx)(s.code,{children:"Version"}),", ",(0,r.jsx)(s.code,{children:"Module"}),", ",(0,r.jsx)(s.code,{children:"Section"}),", and ",(0,r.jsx)(s.code,{children:"Item"})," subdocuments."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Why?"})," Versioning courses independently supports safe iteration and rollbacks; keeping content hierarchies in subdocuments optimizes read performance."]}),"\n",(0,r.jsx)(s.h3,{id:"43-quizzes",children:"4.3 Quizzes"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Controllers"}),": ",(0,r.jsx)(s.code,{children:"QuizController"})," for managing quizzes and attempts."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Service"}),": ",(0,r.jsx)(s.code,{children:"QuizService"})," uses a factory pattern to handle different question types (SOL, SML, OTL, NAT, DES)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Repository"}),": ",(0,r.jsx)(s.code,{children:"QuizRepository"}),", ",(0,r.jsx)(s.code,{children:"QuestionBankRepository"}),", and ",(0,r.jsx)(s.code,{children:"AttemptRepository"})," separate concerns for question storage vs. attempt tracking."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Why?"})," Quiz logic is inherently complex\u2014isolating types and attempts into dedicated repos and services maintains clarity and testability."]}),"\n",(0,r.jsx)(s.h3,{id:"44-users",children:"4.4 Users"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Controllers"}),": ",(0,r.jsx)(s.code,{children:"UserController"})," (",(0,r.jsx)(s.code,{children:"/users/:id/enroll"}),", ",(0,r.jsx)(s.code,{children:"/users/:id/progress"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Service"}),": ",(0,r.jsx)(s.code,{children:"EnrollmentService"})," and ",(0,r.jsx)(s.code,{children:"ProgressService"})," track course enrollments and watch-time."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Repository"}),": ",(0,r.jsx)(s.code,{children:"UserRepository"})," with methods for progress snapshots, watch-time aggregates, and profile updates."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Why?"})," Separating enrollment from progress allows flexible business rules (e.g., free vs. paid courses, quiz retakes)."]}),"\n",(0,r.jsx)(s.h3,{id:"45-notifications",children:"4.5 Notifications"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Controllers"}),": ",(0,r.jsx)(s.code,{children:"NotificationController"})," (",(0,r.jsx)(s.code,{children:"/notifications/invite"}),", ",(0,r.jsx)(s.code,{children:"/notifications/status"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Service"}),": ",(0,r.jsx)(s.code,{children:"MailService"})," (SMTP) and ",(0,r.jsx)(s.code,{children:"InviteService"})," manage email invites and status tracking."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Repository"}),": ",(0,r.jsx)(s.code,{children:"InviteRepository"})," stores invite tokens, expiration, and status."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Why?"})," Decoupling email transport from invite logic simplifies swapping providers or adding in-app notification channels later."]}),"\n",(0,r.jsx)(s.h3,{id:"46-settings",children:"4.6 Settings"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Controllers"}),": ",(0,r.jsx)(s.code,{children:"SettingsController"})," (",(0,r.jsx)(s.code,{children:"/settings/proctoring"}),", ",(0,r.jsx)(s.code,{children:"/settings/custom"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Service"}),": ",(0,r.jsx)(s.code,{children:"SettingsService"})," reads/writes course- and user-level settings."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Repository"}),": ",(0,r.jsx)(s.code,{children:"SettingsRepository"})," with JSON-schema\u2013validated storage."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Why?"})," Proctoring and custom flags vary by course; having a dedicated module keeps these concerns isolated."]}),"\n",(0,r.jsx)(s.h3,{id:"47-anomalies",children:"4.7 Anomalies"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Controllers"}),": ",(0,r.jsx)(s.code,{children:"AnomalyController"})," (",(0,r.jsx)(s.code,{children:"/anomalies"}),", ",(0,r.jsx)(s.code,{children:"/anomalies/:id"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Service"}),": ",(0,r.jsx)(s.code,{children:"AnomalyService"})," subscribes to watch-time events and applies threshold rules."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Repository"}),": ",(0,r.jsx)(s.code,{children:"AnomalyRepository"})," stores anomaly records with metadata (userId, courseId, timestamp)."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Why?"})," Early detection of suspicious behavior protects academic integrity and platform health."]}),"\n",(0,r.jsx)(s.h3,{id:"48-genai",children:"4.8 GenAI"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Controllers"}),": ",(0,r.jsx)(s.code,{children:"GenAIController"})," (",(0,r.jsx)(s.code,{children:"/genai/questions"}),", ",(0,r.jsx)(s.code,{children:"/genai/summaries"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Service"}),": ",(0,r.jsx)(s.code,{children:"GenAIService"})," wraps OpenAI (or Ollama) clients, handles prompt templates and rate limits."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Repository"}),": Optionally caches generated content in ",(0,r.jsx)(s.code,{children:"GenAIRepository"})," to avoid redundant API calls."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Why?"})," Centralizing prompt engineering and caching improves consistency, costs control, and performance."]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},4318:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var i=n(4700);const r={},o=i.createContext(r);function t(e){const s=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);